# Energy

The energy module provides energy system calculations and specifications for character abilities and rotations.

## Overview

This module handles the complex energy generation and consumption mechanics in the game. It includes specifications for character energy generation, particle/orb mechanics, and calculators for determining energy requirements and recharge needs.

## Submodules

- [Specification](./specification.md) - Energy specifications and constants
- [Energy Calculator](./energy_calculator.md) - Energy calculation functions

## Key Features

- **Energy Specifications**: Detailed specifications for character energy generation
- **Particle/Orb Mechanics**: Comprehensive modeling of energy particle and orb systems
- **Energy Calculations**: Functions for calculating energy generation and requirements
- **Party Size Adjustments**: Support for different party sizes and off-field multipliers
- **Energy Recharge Optimization**: Tools for determining optimal energy recharge values

## Energy System

The energy system in the game involves several key concepts:

### Particles vs Orbs
- **Particles**: Basic energy units generated by skills
- **Orbs**: Larger energy units (6x particles) generated by enemies

### Elemental Matching
- **Same Element**: 3 energy per particle/orb
- **Different Element**: 1 energy per particle/orb  
- **No Element (White)**: 2 energy per particle/orb

### Off-Field Multipliers
- **4-Party**: 60% energy efficiency
- **3-Party**: 70% energy efficiency
- **2-Party**: 80% energy efficiency
- **On-Field**: 100% energy efficiency

## Usage Examples

```rust
use aminus::energy::*;

// Calculate energy generation
let energy = calculate_energy(
    4,                    // 4-party team
    1.2,                  // 120% energy recharge
    6.0, 0.0, 0.0,       // Same element particles caught
    3.0, 14.0, 4.0,      // Different/no element particles not caught
    0.0, 0.0, 0.0,       // Orbs caught
    0.0, 0.0, 0.0,       // Orbs not caught
);

// Calculate energy recharge requirements
let burst_cost = 80.0;
let required_er = burst_cost / energy;
```

## Constants

The module defines several important constants:

- `SAME_ELEMENT`: 3 energy per particle/orb
- `DIFFERENT_ELEMENT`: 1 energy per particle/orb
- `NO_ELEMENT`: 2 energy per particle/orb
- `ORB_MULTIPLIER`: 6x multiplier for orbs vs particles
- `OFF_FIELD_*_PARTY_MULTIPLIER`: Off-field energy efficiency multipliers 